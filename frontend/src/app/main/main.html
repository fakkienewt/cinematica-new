<div class="new-label">НОВИНКИ</div>

<div *ngIf="loading"
    class="loading">
    <div class="loading-spinner"></div>
</div>

<div *ngIf="error"
    class="error-message">
    Не удалось загрузить фильмы
</div>

<section class="cute-horizontal-movies"
    *ngIf="!loading && !error">
    <div class="horizontal-scroll">
        <div *ngFor="let movie of movies"
            class="movie-card-horizontal">
            <div class="poster-wrapper"
                (click)="onClickPage(movie)">
                <img [src]="getPosterUrl(movie.poster)"
                    [alt]="movie.title"
                    class="poster-image">
                <div class="movie-rating">{{ movie.rating }}</div>
            </div>
            <div class="movie-info">
                <p class="movie-year">{{ movie.year }}</p>
            </div>
        </div>
    </div>
</section>

<div class="cute-tabs">
    <div class="tabs-scroll">
        <div class="left-tabs">
            <div class="tab-item"
                [class.active]="activeTab === 'films'"
                (click)="setActiveTab('films')">Фильмы</div>
            <div class="tab-item"
                [class.active]="activeTab === 'series'"
                (click)="setActiveTab('series')">Сериалы</div>
            <div class="tab-item"
                [class.active]="activeTab === 'cartoons'"
                (click)="setActiveTab('cartoons')">Мультфильмы</div>
            <div class="tab-item"
                [class.active]="activeTab === 'anime'"
                (click)="setActiveTab('anime')">Аниме</div>
        </div>
        <div class="right-tabs">
            <div class="tab-item"
                [class.active]="activeTab === 'news'"
                (click)="setActiveTab('news')">Новости</div>
        </div>
    </div>
</div>

<section class="cute-vertical-movies"
    *ngIf="!loading && !error && activeTab === 'films'">
    <div class="vertical-grid">
        <div *ngFor="let film of films"
            class="movie-card-vertical">
            <div class="poster-wrapper"
                (click)="onClickPageFilm(film)">
                <img [src]="getPosterUrlFilm(film.poster)"
                    [alt]="film.title"
                    class="poster-image">
                <div class="movie-rating">{{ film.rating }}</div>
            </div>
            <div class="movie-info">
                <h3 class="movie-title">{{ film.title }}</h3>
                <p class="movie-year">{{ film.year }}</p>
            </div>
        </div>
    </div>
</section>

<section class="cute-vertical-movies"
    *ngIf="!loading && !error && activeTab === 'series'">
    <div class="vertical-grid">
        <div *ngFor="let series of seriesList"
            class="movie-card-vertical">
            <div class="poster-wrapper"
                (click)="onClickPageSeries(series)">
                <img [src]="getPosterUrlFilm(series.poster)"
                    class="poster-image">
                <div class="movie-rating">{{ series.rating }}</div>
            </div>
            <div class="movie-info">
                <h3 class="movie-title">{{ series.title }}</h3>
                <p class="movie-year">{{ series.year }}</p>
            </div>
        </div>
    </div>
</section>

<section class="cute-vertical-movies"
    *ngIf="!loading && !error && activeTab === 'cartoons'">
    <div class="vertical-grid">
        <div *ngFor="let cartoon of cartoons"
            class="movie-card-vertical">
            <div class="poster-wrapper"
                (click)="onClickPageCartoons(cartoon)">
                <img [src]="getPosterUrlFilm(cartoon.poster)"
                    [alt]="cartoon.title"
                    class="poster-image">
                <div class="movie-rating">{{ cartoon.rating }}</div>
            </div>
            <div class="movie-info">
                <h3 class="movie-title">{{ cartoon.title }}</h3>
                <p class="movie-year">{{ cartoon.year }}</p>
            </div>
        </div>
    </div>
</section>

<section class="cute-vertical-movies"
    *ngIf="!loading && !error && activeTab === 'anime'">
    <div class="vertical-grid">
        <div *ngFor="let animeItem of anime"
            class="movie-card-vertical">
            <div class="poster-wrapper"
                (click)="onClickPageAnime(animeItem)">
                <img [src]="getPosterUrlFilm(animeItem.poster)"
                    class="poster-image">
                <div class="movie-rating">{{ animeItem.rating }}</div>
            </div>
            <div class="movie-info">
                <h3 class="movie-title">{{ animeItem.title }}</h3>
                <p class="movie-year">{{ animeItem.year }}</p>
            </div>
        </div>
    </div>
</section>

<section class="cute-news"
    *ngIf="!loading && !error && activeTab === 'news'">
    <div class="news-grid">
        <div *ngFor="let n of news"
            class="news-card">
            <div class="news-poster-wrapper" (click)="onClickPageNews(n)">
                <img [src]="getPosterUrlFilm(n.poster)"
                    class="news-poster-image">
            </div>
            <div class="news-info">
                <h3 class="news-title">{{ n.title }}</h3>
                <p class="news-date">{{ n.when }}</p>
            </div>
        </div>
    </div>
</section>